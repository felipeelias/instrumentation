<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <style type="text/css"><%= asset('c3.min.css') %></style>
<body>
  <div id="chart"></div>
  <script charset="utf-8"><%= asset('d3.min.js') %></script>
  <script charset="utf-8"><%= asset('c3.min.js') %></script>
  <script>
    var chart = c3.generate({
      bindto: '#chart',
      data: {
        x: 'count',
        columns: [
          <%= ["memory"] + (@data.fetch(:datapoints).map(&:last)) %>,
          <%= ["count"] + (0..@data.fetch(:datapoints).size).to_a %>
        ],
      },
      point: {
          show: false
      }
    });
  </script>
</body>
